{% extends 'dashboard_layout.html' %}

{% block title %}Edit Profile - Arhan Financial{% endblock %}
{% block page_heading %}Edit Profile{% endblock %}

{% block extra_css %}
<style>
    /* Profile Specific Styles */
    .profile-grid { display: grid; grid-template-columns: 1fr 2fr; gap: 30px; }
    
    /* Left Side */
    .profile-card-center { text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; }
    .avatar-large { width: 120px; height: 120px; border-radius: 50%; background-color: #ddd; margin-bottom: 20px; position: relative; }
    .edit-icon { position: absolute; bottom: 0; right: 0; background: var(--primary-green); color: white; width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 3px solid white; cursor: pointer;}
    
    .completion-card { background: linear-gradient(135deg, #4A58E7, #7492F4); color: white; margin-top: 20px; text-align: left; }
    .progress-bar-bg { background: rgba(255,255,255,0.3); height: 8px; border-radius: 4px; margin-top: 10px; width: 100%; }
    .progress-bar-fill { background: white; height: 8px; border-radius: 4px; width: 72%; }

    /* Form Layout */
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px; }
</style>
{% endblock %}

{% block content %}
<div class="profile-grid">
    
    <div class="flex flex-col" style="gap: 20px;">
        <div class="card profile-card-center">
            <h3 class="mb-4">Update Profile</h3>
            <div class="avatar-large">
                <img src="https://via.placeholder.com/150" alt="Profile" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">
                <div class="edit-icon"><i class="fas fa-pen"></i></div>
            </div>
            <p class="text-gray" style="font-size: 0.9rem;">Upload 300x300px picture</p>
        </div>

        <div class="card completion-card">
            <div class="flex items-center mb-2">
                <div style="font-size: 1.5rem; font-weight: 700; margin-right: 15px;">72%</div>
                <div>
                    <h4 style="font-weight: 600;">Edit your account details</h4>
                    <p style="font-size: 0.8rem; opacity: 0.8;">
                        Change your password <a href = "{% url "password_change" %}"> here</a>
                    </p>
                </div>
            </div>
            <div class="progress-bar-bg">
                <div class="progress-bar-fill"></div>
            </div>
            <button class="btn-primary mt-4" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.4);">Verify Identity</button>
        </div>
    </div>

    <div class="card">
        <h3 class="mb-4" style="border-bottom: 1px solid var(--border-light); padding-bottom: 15px;">Personal Information</h3>
        
        <form method="POST" enctype="multipart/form-data">
            {{form.as_p}}
            {% csrf_token %}
            <p><input type="submit" value="Save changes"></p>
        </form>
    </div>

</div>
{% endblock %}